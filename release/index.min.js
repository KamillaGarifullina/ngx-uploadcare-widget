!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/platform-browser"),require("uploadcare-widget")):"function"==typeof define&&define.amd?define("ngx-uploadcare-widget",["@angular/core","@angular/platform-browser","uploadcare-widget"],t):"object"==typeof exports?exports["ngx-uploadcare-widget"]=t(require("@angular/core"),require("@angular/platform-browser"),require("uploadcare-widget")):e["ngx-uploadcare-widget"]=t(e["@angular/core"],e["@angular/platform-browser"],e["uploadcare-widget"])}("undefined"!=typeof self?self:this,function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/index.ts")}({"./src/index.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("./src/ucWidget/index.ts");i.d(t,"UcWidgetComponent",function(){return n.a}),i.d(t,"UcWidgetModule",function(){return n.b});var r=i("./src/ucWidgetCustom/index.ts");i.d(t,"UcWidgetCustomComponent",function(){return r.a});var o=i("uploadcare-widget");i.n(o);for(var p in o)["UcWidgetComponent","UcWidgetModule","UcWidgetCustomComponent","default"].indexOf(p)<0&&function(e){i.d(t,e,function(){return o[e]})}(p)},"./src/ucWidget/index.ts":function(e,t,i){"use strict";var n=i("./src/ucWidget/ucWidget.component.ts");i.d(t,"a",function(){return n.a});var r=i("./src/ucWidget/ucWidget.module.ts");i.d(t,"b",function(){return r.a})},"./src/ucWidget/ucWidget.component.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i("@angular/core"),r=(i.n(n),i("uploadcare-widget")),o=i.n(r),p=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,p=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(p=(o<3?r(p):o>3?r(t,i,p):r(t,i))||p);return o>3&&p&&Object.defineProperty(t,i,p),p},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};o.a.start({integration:"Angular/"+n.VERSION.full+"; Ngx-Uploadcare-Widget/1.0.1"});var u=function(){function e(e,t){this.onUploadComplete=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onProgress=new n.EventEmitter,this._publicKey="demopublickey",this._value=null,this._cdnBase=null,this._reinitRequired=!1,this._isClearValue=!1,this.element=t,this.renderer=e}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){this._publicKey=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMax",{get:function(){return this._multipleMax},set:function(e){this._multipleMax=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMin",{get:function(){return this._multipleMin},set:function(e){this._multipleMin=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesOnly",{get:function(){return this._imagesOnly},set:function(e){this._imagesOnly=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewStep",{get:function(){return this._previewStep},set:function(e){this._previewStep=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crop",{get:function(){return this._crop},set:function(e){this._crop=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageShrink",{get:function(){return this._imageShrink},set:function(e){this._imageShrink=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearable",{get:function(){return this._clearable},set:function(e){this._clearable=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabs",{get:function(){return this._tabs},set:function(e){this._tabs=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputAcceptTypes",{get:function(){return this._inputAcceptTypes},set:function(e){this._inputAcceptTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preferredTypes",{get:function(){return this._preferredTypes},set:function(e){this._preferredTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemDialog",{get:function(){return this._systemDialog},set:function(e){this._systemDialog=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureSignature",{get:function(){return this._secureSignature},set:function(e){this._secureSignature=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureExpire",{get:function(){return this._secureExpire},set:function(e){this._secureExpire=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.widget&&(this.setReinitFlag(!1),this.widget.value(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cdnBase",{get:function(){return this._cdnBase},set:function(e){this._cdnBase=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doNotStore",{get:function(){return this._doNotStore},set:function(e){this._doNotStore=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.widget=this.init()},e.prototype.ngAfterViewChecked=function(){this._reinitRequired&&this.reset(this._isClearValue)},e.prototype.reset=function(e){void 0===e&&(e=!1),this.destroy(),this.widget=this.init(e),this._reinitRequired=!1,this._isClearValue=!1},e.prototype.clearUploads=function(){this._value=null,this.widget&&this.widget.value(null)},e.prototype.openDialog=function(){this.widget&&this.widget.openDialog()},e.prototype.setReinitFlag=function(e){this.widget&&(this._reinitRequired=!0,this._isClearValue=e)},e.prototype.setInputAttr=function(e,t){t&&this.renderer.setAttribute(this.inputElement,e,t)},e.prototype.initInputElement=function(){this.setInputAttr("type","hidden"),this.setInputAttr("data-public-key",this._publicKey),this.setInputAttr("data-multiple",this._multiple),this.setInputAttr("data-multiple-max",this._multipleMax),this.setInputAttr("data-multiple-min",this._multipleMin),this.setInputAttr("data-images-only",this._imagesOnly),this.setInputAttr("data-preview-step",this._previewStep),this.setInputAttr("data-crop",this._crop),this.setInputAttr("data-image-shrink",this._imageShrink),this.setInputAttr("data-clearable",this._clearable),this.setInputAttr("data-tabs",this._tabs),this.setInputAttr("data-input-accept-types",this._inputAcceptTypes),this.setInputAttr("data-preferred-types",this._preferredTypes),this.setInputAttr("data-system-dialog",this._systemDialog),this.setInputAttr("data-secure-signature",this._secureSignature),this.setInputAttr("data-secure-expire",this._secureExpire),this.setInputAttr("data-cdn-base",this._cdnBase),this.setInputAttr("data-do-not-store",this._doNotStore),this._value&&this.renderer.setProperty(this.inputElement,"value",this._value)},e.prototype.init=function(e){var t=this;void 0===e&&(e=!1),this.inputElement=this.renderer.createElement("input"),this.renderer.appendChild(this.element.nativeElement,this.inputElement),e&&this.clearUploads(),this.initInputElement();var i=o.a.Widget(this.inputElement);return i.onUploadComplete(function(e){t.onUploadComplete.emit(e),t._value=e.uuid}),i.onChange(function(e){t.onChange.emit(e),"function"==typeof e.promise?e.promise().progress(function(e){t.onProgress.emit(e)}):e.progress(function(e){t.onProgress.emit(e)})}),i},e.prototype.destroy=function(){var e=o.a.jQuery;e(this.widget.inputElement.nextSibling).remove(),e(this.widget.inputElement).clone().appendTo(e(this.element.nativeElement)),e(this.widget.inputElement).remove(),this.renderer.destroyNode(this.inputElement),this.renderer.removeChild(this.element.nativeElement,this.element.nativeElement.children[0]),delete this.widget},p([Object(n.Output)("on-upload-complete"),s("design:type",Object)],e.prototype,"onUploadComplete",void 0),p([Object(n.Output)("on-change"),s("design:type",Object)],e.prototype,"onChange",void 0),p([Object(n.Output)("on-progress"),s("design:type",Object)],e.prototype,"onProgress",void 0),p([Object(n.Input)("public-key"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"publicKey",null),p([Object(n.Input)("multiple"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"multiple",null),p([Object(n.Input)("multiple-max"),s("design:type",Number),s("design:paramtypes",[Number])],e.prototype,"multipleMax",null),p([Object(n.Input)("multiple-min"),s("design:type",Number),s("design:paramtypes",[Number])],e.prototype,"multipleMin",null),p([Object(n.Input)("images-only"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"imagesOnly",null),p([Object(n.Input)("preview-step"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"previewStep",null),p([Object(n.Input)("crop"),s("design:type",Object),s("design:paramtypes",[Object])],e.prototype,"crop",null),p([Object(n.Input)("image-shrink"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"imageShrink",null),p([Object(n.Input)("clearable"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"clearable",null),p([Object(n.Input)("tabs"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"tabs",null),p([Object(n.Input)("input-accept-types"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"inputAcceptTypes",null),p([Object(n.Input)("preferred-types"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"preferredTypes",null),p([Object(n.Input)("system-dialog"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"systemDialog",null),p([Object(n.Input)("secure-signature"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"secureSignature",null),p([Object(n.Input)("secure-expire"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"secureExpire",null),p([Object(n.Input)("value"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"value",null),p([Object(n.Input)("cdn-base"),s("design:type",String),s("design:paramtypes",[String])],e.prototype,"cdnBase",null),p([Object(n.Input)("do-not-store"),s("design:type",Boolean),s("design:paramtypes",[Boolean])],e.prototype,"doNotStore",null),e=p([Object(n.Component)({selector:"ngx-uploadcare-widget",template:""}),s("design:paramtypes",[n.Renderer2,n.ElementRef])],e)}()},"./src/ucWidget/ucWidget.module.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("@angular/platform-browser"),r=(i.n(n),i("@angular/core")),o=(i.n(r),i("./src/ucWidget/ucWidget.component.ts")),p=i("./src/ucWidgetCustom/ucWidgetCustom.component.ts"),s=i("./src/ucWidgetCustom/ucWidgetCustom.module.ts"),u=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,p=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(p=(o<3?r(p):o>3?r(t,i,p):r(t,i))||p);return o>3&&p&&Object.defineProperty(t,i,p),p},a=function(){function e(){}return e=u([Object(r.NgModule)({declarations:[o.a],imports:[n.BrowserModule,s.a],providers:[],bootstrap:[],exports:[o.a,p.a]})],e)}()},"./src/ucWidgetCustom/index.ts":function(e,t,i){"use strict";var n=i("./src/ucWidgetCustom/ucWidgetCustom.component.ts");i.d(t,"a",function(){return n.a})},"./src/ucWidgetCustom/ucWidgetCustom.component.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i("@angular/core"),r=(i.n(n),i("uploadcare-widget")),o=i.n(r),p=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,p=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(p=(o<3?r(p):o>3?r(t,i,p):r(t,i))||p);return o>3&&p&&Object.defineProperty(t,i,p),p},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};o.a.start({integration:"Angular/"+n.VERSION.full+"; Ngx-Uploadcare-Widget/1.0.1"});var u=function(){function e(){this.onUploadComplete=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onProgress=new n.EventEmitter,this.publicKey="demopublickey"}return e.prototype.openDialog=function(){var e=this,t={publicKey:this.publicKey?this.publicKey:void 0,multiple:this.multiple,multipleMax:this.multipleMax,multipleMin:this.multipleMin,imagesOnly:this.imagesOnly,previewStep:this.previewStep,crop:this.crop?this.crop:void 0,imageShrink:this.imageShrink?this.imageShrink:void 0,clearable:this.clearable,tabs:this.tabs?this.tabs:void 0,inputAcceptTypes:this.inputAcceptTypes?this.inputAcceptTypes:void 0,preferredTypes:this.preferredTypes,systemDialog:this.systemDialog,secureSignature:this.secureSignature,secureExpire:this.secureExpire,value:this.value?this.value:void 0,cdnBase:this.cdnBase?this.cdnBase:void 0,doNotStore:this.doNotStore};o.a.openDialog(this.value,null,t).done(function(t){e.onChange.emit(t),"function"==typeof t.promise?t.promise().then(function(t){e.onUploadComplete.emit(t)}).progress(function(t){e.onProgress.emit(t)}):t.then(function(t){e.onUploadComplete.emit(t)}).progress(function(t){e.onProgress.emit(t)})})},p([Object(n.Output)("on-upload-complete"),s("design:type",Object)],e.prototype,"onUploadComplete",void 0),p([Object(n.Output)("on-change"),s("design:type",Object)],e.prototype,"onChange",void 0),p([Object(n.Output)("on-progress"),s("design:type",Object)],e.prototype,"onProgress",void 0),p([Object(n.Input)("public-key"),s("design:type",Object)],e.prototype,"publicKey",void 0),p([Object(n.Input)("multiple"),s("design:type",Boolean)],e.prototype,"multiple",void 0),p([Object(n.Input)("multiple-max"),s("design:type",Number)],e.prototype,"multipleMax",void 0),p([Object(n.Input)("multiple-min"),s("design:type",Number)],e.prototype,"multipleMin",void 0),p([Object(n.Input)("images-only"),s("design:type",Boolean)],e.prototype,"imagesOnly",void 0),p([Object(n.Input)("preview-step"),s("design:type",Boolean)],e.prototype,"previewStep",void 0),p([Object(n.Input)("crop"),s("design:type",Object)],e.prototype,"crop",void 0),p([Object(n.Input)("image-shrink"),s("design:type",String)],e.prototype,"imageShrink",void 0),p([Object(n.Input)("clearable"),s("design:type",Boolean)],e.prototype,"clearable",void 0),p([Object(n.Input)("tabs"),s("design:type",String)],e.prototype,"tabs",void 0),p([Object(n.Input)("input-accept-types"),s("design:type",String)],e.prototype,"inputAcceptTypes",void 0),p([Object(n.Input)("preferred-types"),s("design:type",String)],e.prototype,"preferredTypes",void 0),p([Object(n.Input)("system-dialog"),s("design:type",Boolean)],e.prototype,"systemDialog",void 0),p([Object(n.Input)("secure-signature"),s("design:type",String)],e.prototype,"secureSignature",void 0),p([Object(n.Input)("secure-expire"),s("design:type",String)],e.prototype,"secureExpire",void 0),p([Object(n.Input)("value"),s("design:type",String)],e.prototype,"value",void 0),p([Object(n.Input)("cdn-base"),s("design:type",String)],e.prototype,"cdnBase",void 0),p([Object(n.Input)("do-not-store"),s("design:type",Boolean)],e.prototype,"doNotStore",void 0),e=p([Object(n.Component)({selector:"ngx-uploadcare-widget-custom",template:""})],e)}()},"./src/ucWidgetCustom/ucWidgetCustom.module.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("@angular/platform-browser"),r=(i.n(n),i("@angular/core")),o=(i.n(r),i("./src/ucWidgetCustom/ucWidgetCustom.component.ts")),p=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,p=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(p=(o<3?r(p):o>3?r(t,i,p):r(t,i))||p);return o>3&&p&&Object.defineProperty(t,i,p),p},s=function(){function e(){}return e=p([Object(r.NgModule)({declarations:[o.a],imports:[n.BrowserModule],providers:[],bootstrap:[],exports:[o.a]})],e)}()},"@angular/core":function(t,i){t.exports=e},"@angular/platform-browser":function(e,i){e.exports=t},"uploadcare-widget":function(e,t){e.exports=i}})});