!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/platform-browser"),require("uploadcare-widget")):"function"==typeof define&&define.amd?define("ngx-uploadcare-widget",["@angular/core","@angular/platform-browser","uploadcare-widget"],t):"object"==typeof exports?exports["ngx-uploadcare-widget"]=t(require("@angular/core"),require("@angular/platform-browser"),require("uploadcare-widget")):e["ngx-uploadcare-widget"]=t(e["@angular/core"],e["@angular/platform-browser"],e["uploadcare-widget"])}("undefined"!=typeof self?self:this,function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./src/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("./src/ucWidget/index.ts");n.d(t,"UcWidgetComponent",function(){return i.a}),n.d(t,"UcWidgetModule",function(){return i.b})},"./src/ucWidget/index.ts":function(e,t,n){"use strict";var i=n("./src/ucWidget/ucWidget.component.ts");n.d(t,"a",function(){return i.a});var r=n("./src/ucWidget/ucWidget.module.ts");n.d(t,"b",function(){return r.a})},"./src/ucWidget/ucWidget.component.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("@angular/core"),r=(n.n(i),n("uploadcare-widget")),o=n.n(r),s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t){this.onUploadComplete=new i.EventEmitter,this.onChange=new i.EventEmitter,this._publicKey="demopublickey",this._value=null,this._cdnBase=null,this._reinitRequired=!1,this._isClearValue=!1,this.element=t,this.renderer=e}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){this._publicKey=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMax",{get:function(){return this._multipleMax},set:function(e){this._multipleMax=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleMin",{get:function(){return this._multipleMin},set:function(e){this._multipleMin=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesOnly",{get:function(){return this._imagesOnly},set:function(e){this._imagesOnly=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewStep",{get:function(){return this._previewStep},set:function(e){this._previewStep=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crop",{get:function(){return this._crop},set:function(e){this._crop=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageShrink",{get:function(){return this._imageShrink},set:function(e){this._imageShrink=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearable",{get:function(){return this._clearable},set:function(e){this._clearable=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabs",{get:function(){return this._tabs},set:function(e){this._tabs=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputAcceptTypes",{get:function(){return this._inputAcceptTypes},set:function(e){this._inputAcceptTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preferredTypes",{get:function(){return this._preferredTypes},set:function(e){this._preferredTypes=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"systemDialog",{get:function(){return this._systemDialog},set:function(e){this._systemDialog=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureSignature",{get:function(){return this._secureSignature},set:function(e){this._secureSignature=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureExpire",{get:function(){return this._secureExpire},set:function(e){this._secureExpire=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.widget&&(this.setReinitFlag(!1),this.widget.value(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cdnBase",{get:function(){return this._cdnBase},set:function(e){this._cdnBase=e,this.setReinitFlag(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doNotStore",{get:function(){return this._doNotStore},set:function(e){this._doNotStore=e,this.setReinitFlag(!1)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.widget=this.init()},e.prototype.ngAfterViewChecked=function(){this._reinitRequired&&this.reset(this._isClearValue)},e.prototype.reset=function(e){void 0===e&&(e=!1),this.destroy(),this.widget=this.init(e),this._reinitRequired=!1,this._isClearValue=!1},e.prototype.clearUploads=function(){this._value=null,this.widget&&this.widget.value(null)},e.prototype.setReinitFlag=function(e){this.widget&&(this._reinitRequired=!0,this._isClearValue=e)},e.prototype.setInputAttr=function(e,t){t&&this.renderer.setAttribute(this.inputElement,e,t)},e.prototype.initInputElement=function(){this.setInputAttr("type","hidden"),this.setInputAttr("data-public-key",this._publicKey),this.setInputAttr("data-multiple",this._multiple),this.setInputAttr("data-multiple-max",this._multipleMax),this.setInputAttr("data-multiple-min",this._multipleMin),this.setInputAttr("data-images-only",this._imagesOnly),this.setInputAttr("data-preview-step",this._previewStep),this.setInputAttr("data-crop",this._crop),this.setInputAttr("data-image-shrink",this._imageShrink),this.setInputAttr("data-clearable",this._clearable),this.setInputAttr("data-tabs",this._tabs),this.setInputAttr("data-input-accept-types",this._inputAcceptTypes),this.setInputAttr("data-preferred-types",this._preferredTypes),this.setInputAttr("data-system-dialog",this._systemDialog),this.setInputAttr("data-secure-signature",this._secureSignature),this.setInputAttr("data-secure-expire",this._secureExpire),this.setInputAttr("data-cdn-base",this._cdnBase),this.setInputAttr("data-do-not-store",this._doNotStore),this._value&&this.renderer.setProperty(this.inputElement,"value",this._value)},e.prototype.init=function(e){var t=this;void 0===e&&(e=!1),this.inputElement=this.renderer.createElement("input"),this.renderer.appendChild(this.element.nativeElement,this.inputElement),e&&this.clearUploads(),this.initInputElement();var n=o.a.Widget(this.inputElement);return n.onUploadComplete(function(e){t.onUploadComplete.emit(e),t._value=e.uuid}),n.onChange(function(e){t.onChange.emit(e)}),n},e.prototype.destroy=function(){try{this.widget.inputElement.nextSibling.remove(),o.a.jQuery(this.widget.inputElement).clone().appendTo(o.a.jQuery(this.element.nativeElement)),this.widget.inputElement.remove(),this.renderer.destroyNode(this.inputElement),this.renderer.removeChild(this.element.nativeElement,this.element.nativeElement.children[0]),delete this.widget}catch(e){console.error(e)}},s([Object(i.Output)("on-upload-complete"),p("design:type",Object)],e.prototype,"onUploadComplete",void 0),s([Object(i.Output)("on-change"),p("design:type",Object)],e.prototype,"onChange",void 0),s([Object(i.Input)("public-key"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"publicKey",null),s([Object(i.Input)("multiple"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"multiple",null),s([Object(i.Input)("multiple-max"),p("design:type",Number),p("design:paramtypes",[Number])],e.prototype,"multipleMax",null),s([Object(i.Input)("multiple-min"),p("design:type",Number),p("design:paramtypes",[Number])],e.prototype,"multipleMin",null),s([Object(i.Input)("images-only"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"imagesOnly",null),s([Object(i.Input)("preview-step"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"previewStep",null),s([Object(i.Input)("crop"),p("design:type",Object),p("design:paramtypes",[Object])],e.prototype,"crop",null),s([Object(i.Input)("image-shrink"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"imageShrink",null),s([Object(i.Input)("clearable"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"clearable",null),s([Object(i.Input)("tabs"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"tabs",null),s([Object(i.Input)("input-accept-types"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"inputAcceptTypes",null),s([Object(i.Input)("preferred-types"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"preferredTypes",null),s([Object(i.Input)("system-dialog"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"systemDialog",null),s([Object(i.Input)("secure-signature"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"secureSignature",null),s([Object(i.Input)("secure-expire"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"secureExpire",null),s([Object(i.Input)("value"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"value",null),s([Object(i.Input)("cdn-base"),p("design:type",String),p("design:paramtypes",[String])],e.prototype,"cdnBase",null),s([Object(i.Input)("do-not-store"),p("design:type",Boolean),p("design:paramtypes",[Boolean])],e.prototype,"doNotStore",null),e=s([Object(i.Component)({selector:"ngx-uploadcare-widget",template:""}),p("design:paramtypes",[i.Renderer2,i.ElementRef])],e)}()},"./src/ucWidget/ucWidget.module.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("@angular/platform-browser"),r=(n.n(i),n("@angular/core")),o=(n.n(r),n("./src/ucWidget/ucWidget.component.ts")),s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},p=function(){function e(){}return e=s([Object(r.NgModule)({declarations:[o.a],imports:[i.BrowserModule],providers:[],bootstrap:[]})],e)}()},"@angular/core":function(t,n){t.exports=e},"@angular/platform-browser":function(e,n){e.exports=t},"uploadcare-widget":function(e,t){e.exports=n}})});